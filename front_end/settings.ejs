<%- include('./partial_imports/import_above_content.ejs', { Title: "Settings", PageAddr: 'settings' } ) %>

<div class="row mt">
    <div class="col-lg-12">
        <div class="form-panel">
        <h4 class="mb"><i class="fa fa-angle-right"></i> Connection Configuration </h4>

        <div class="row mt" id="ip_div_id">
            <div class="form-group form-horizontal">
                <label class="col-sm-2 control-label"  style="padding-left: 20px; width: 16%;">Default IP</label>
                <div class="col-sm-4" style="padding-left: 0px;">
                    <input class="form-control" id="ip_id" placeholder="127.0.0.1" value="">
                </div>
            </div>
        </div>

        <div class="row mt" id="port_div_id">
            <div class="form-group form-horizontal">
                <label class="col-sm-2 control-label"  style="padding-left: 20px; width: 16%;">Default Port</label>
                <div class="col-sm-4" style="padding-left: 0px;">
                    <input class="form-control" id="port_id" placeholder="5091" value="">
                </div>
            </div>
        </div>

        </div>
        <!-- /form-panel -->
    </div>
    <!-- /col-lg-12 -->
</div>

<div style="margin: 5px;">
    <button type="button" class="btn btn-primary" id="btnSave" >Save</button>
    <button type="button" class="btn btn-theme"   id="btnReload">Reload</button>
</div>


<%- include('./partial_imports/import_below_content.ejs') %>

<script type="text/javascript">

setDefaultValues("ip_id", "port_id")

$(document).ready( () => {

    $("#btnReload").click(function() {

        setDefaultValues("ip_id", "port_id")
    });

    $("#btnSave").click(function() {
        ipcRenderer.send("defaults:set:data", $("#ip_id").val(), $("#port_id").val());
    });

    ipcRenderer.on('defaults:set:result', (event, isSet) => {
        
        if(isSet == true)
            this.showFlashMessage("Default-Values Saved", "INFO")
        else
            this.showFlashMessage("Problem Saving Default-Values", "ERROR")
    });

});

</script>